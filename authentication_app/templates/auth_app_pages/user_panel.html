{% extends "parent_page/base_page.html" %}

{% block title %}PANEL : {{user.username}}{% endblock title %}

{% block content %}
  <div class="container mt-5">
    <h1 class="mb-3">User Panel</h1>
    <div class="row">
        <div class="col-md-3">
            <div class="card">
                  <div class="card-body">
                      <h5 class="card-title">User Information</h5>
                      <p><img src="{% if user.profile_photo %} {{ user.profile_photo.url }} {% endif %}" class="img-fluid" alt="Profile Photo"></p>
                      <p class="card-text"><strong>Username:</strong> {{ user.username }}</p>
                      <p class="card-text"><strong>Phone Number:</strong> {{ user.phone_number }}</p>
                      <a href="{% url 'authentication_app:user-profile' user.pk user.username %}" class="btn panel_btns my-1 btn-secondary">Profile</a>
                      <a href="{% url 'authentication_app:user-change-profile' user.pk %}" class="btn panel_btns my-1 btn-primary">Edit Profile</a>
                      <a href="{% url 'authentication_app:logout' pk=user.pk %}"   class="btn panel_btns my-1 btn-warning">Logout</a>
                      <a href="{% url 'authentication_app:delete-account' pk=user.pk %}"   class="btn panel_btns my-1 btn-danger">Delete Account</a>
                  </div>
            </div>
        </div>
        <div class="col-md-9">
          <div class="card">
            <div class="card-body">
              <div class="row">
                <div class="col-8"><h5 class="card-title">Your Posts</h5></div>
                <div class="col-4">
                  <a href="" class="btn panel_btns btn-success">Add Post</a>
                </div>
              </div>
              <br>
              {% if posts.count > 0 %}
                {% for post in posts %}
                  <div class="card mb-3">
                    <div class="card-title card-body">
                      <div class="row">
                        <div class="col-6"><h5>{{ post.title }}</h5></div>
                        <div class="col-6"><img src="{% if post.post_header_image %}{{post.post_header_image.url}}{% endif %}" width="100" height="100" alt="post.title"></div>
                      </div>
                      <p class="card-text">{{ post.body }}</p>
                      <a href="{% url 'blog:post-detail' pk=post.pk %}" class="btn btn-primary">Read More</a>
                    </div>
                  </div>
                {% endfor %}
              {% else %}
                <p>You haven't posted anything yet.</p>
              {% endif %}
            </div>
          </div>
        </div>
    </div>
  </div>
{% endblock %}


